<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
     
<head>
	<title>Login</title>
	
	<script type="text/javascript">
	$(document).ready(function() {
	    $("#locales").change(function () {
	        var selected = $('#locales').val();
	        if (selected != ''){
	            window.location.replace('login?lang=' + selected);
	        } else {
	            window.location.replace('login?logout?lang=' + selected);
	        }
	    });
	});
	</script>

</head>
<body style="text-align:center">
 
	<h1 th:text="#{greeting}"></h1>
	
	   <div th:if="${param.error}" th:text="#{logout}">
	       Wrong username or password.
	   </div>
	   <div th:if="${param.logout}" style="margin:10px">
	       You have been logged out.
	   </div>
	   
	   <div style="padding:20px; margin-top:10px; margin-bottom: 20px; background-color:lightblue">
		   <form th:action="@{/login}" method="post" action="/memberCatalog">
		       <div><label th:text="#{username}"></label> <input type="text" name="username"/></div>
		       <div><label th:text="#{password}"></label> <input style="margin:5px" type="password" name="password"/></div>
		       <div><input type="submit" value="Log In" style="margin-top:5px;" class="btn btn-primary"></div>
		   </form>
		   
		   <Form action="/register" style="margin-top:5px; display:block;">
		   		<input type="submit" value="Register" class="btn btn-primary" />
		   </Form>
	   	
	   	</div>
	   
	<span th:text="#{lang.change}"></span>:
	<select id="locales">
		<option value=""></option>
	    <option value="en" th:text="#{lang.eng}"></option>
	    <option value="fi" th:text="#{lang.fi}"></option>
	</select>
     
</body>
  
</html>